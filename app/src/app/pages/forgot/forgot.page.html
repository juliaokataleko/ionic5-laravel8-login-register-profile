<ion-header>
    <ion-toolbar>
        <ion-title>Recuperar conta</ion-title>
        <ion-buttons slot="primary">
            <ion-back-button text="Login" defaultHref="/login" icon="" color="tertiary" fill="outline"></ion-back-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>


<ion-content>

    <div class="centered">

        <div class="error-box">
            <p class="error_input" *ngFor="let item of errors">
                {{ item.msg }}
            </p>
        </div>

        <div class="login">

            <ion-row>
                <ion-col size="4">
                    <ion-item>
                        <ion-label position="floating">País</ion-label>
                        <ion-select [disabled]="codeSent"  [(ngModel)]="country_phone_code" placeholder="Selecionar..." [(ngModel)]="country_phone_code">
                            <ion-select-option value="244">+244 Angola</ion-select-option>
                            <ion-select-option value="55">+55 Brasil</ion-select-option>
                            <ion-select-option value="351">+351 Portugal</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
                <ion-col size="8">
                    <ion-item>
                        <ion-label position="floating">Número de Telefone</ion-label>
                        <ion-input type="text" [disabled]="codeSent"  [(ngModel)]="phone" (keyup)="checkPhone()" [(ngModel)]="phone"></ion-input>
            
                    </ion-item>
                </ion-col>
                <ion-col size="12">
                    <span class="error_input">{{ phoneExistsError }}</span>
                </ion-col>
            </ion-row>

            <div *ngIf="codeSent">
                <ion-list>
                    <ion-item>
                        <ion-label position="floating">Código recebido</ion-label>
                        <ion-input type="text" [(ngModel)]="code"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">Informe a nova senha</ion-label>
                        <ion-input type="text" [(ngModel)]="npassword"></ion-input>
                    </ion-item>
                </ion-list>
                <br>
                
                <br>
                <a (click)="resetData()">Não recebi o código</a>
                <hr>
                

            </div>

        </div>

    </div>


</ion-content>

<ion-footer>
    <ion-button *ngIf="codeSent" expland=" block " padding color="success " (click)="resetPassword()">Mudar senha
    </ion-button>
    <ion-button *ngIf="!codeSent" expland=" block " padding color="tertiary " (click)="recover() ">Recuperar conta</ion-button>
</ion-footer>